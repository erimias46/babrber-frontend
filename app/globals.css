@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: system-ui, sans-serif;
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  body {
    @apply bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    box-sizing: border-box;
  }

  /* Improve touch targets on mobile */
  button,
  a,
  input,
  select,
  textarea {
    @apply touch-manipulation;
  }

  /* Better focus styles for accessibility */
  *:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
  }

  /* Smooth scrolling for iOS */
  @supports (-webkit-overflow-scrolling: touch) {
    html {
      -webkit-overflow-scrolling: touch;
    }
  }

  /* Hide scrollbars for better mobile experience */
  .scrollbar-hide {
    -ms-overflow-style: none; /* Internet Explorer 10+ */
    scrollbar-width: none; /* Firefox */
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
  }
}

@layer components {
  /* Responsive Container */
  .container-responsive {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .container-mobile {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Modern Button Styles with Better Mobile Support */
  .btn {
    @apply px-3 py-2 sm:px-4 sm:py-2 rounded-xl font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-sm;
    @apply min-h-[44px] min-w-[44px]; /* Minimum touch target size */
  }

  .btn-primary {
    @apply bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl;
  }

  .btn-secondary {
    @apply bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md;
  }

  .btn-danger {
    @apply bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 shadow-lg hover:shadow-xl;
  }

  .btn-success {
    @apply bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl;
  }

  .btn-warning {
    @apply bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:from-yellow-600 hover:to-orange-600 shadow-lg hover:shadow-xl;
  }

  /* Mobile-First Input Styles */
  .input {
    @apply w-full px-3 py-2.5 sm:px-4 sm:py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/80 backdrop-blur-sm hover:bg-white;
    @apply text-base; /* Prevent zoom on iOS */
  }

  .input:focus {
    @apply shadow-lg transform scale-[1.02];
  }

  /* Responsive Card Styles */
  .card {
    @apply bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-4 sm:p-6 border border-white/20;
  }

  .card-mobile {
    @apply bg-white/90 backdrop-blur-sm rounded-xl shadow-mobile-card p-4 border border-white/20;
  }

  .card-hover {
    @apply hover:transform hover:scale-[1.02] hover:-translate-y-1;
  }

  /* Glass Effect with Mobile Optimization */
  .glass {
    @apply bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl;
  }

  .glass-mobile {
    @apply bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl;
  }

  /* Gradient Text */
  .gradient-text {
    @apply bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent;
  }

  /* Responsive Badge */
  .badge {
    @apply inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800 border border-green-200;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800 border border-yellow-200;
  }

  .badge-error {
    @apply bg-red-100 text-red-800 border border-red-200;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800 border border-blue-200;
  }

  /* Responsive Navigation */
  .nav-item {
    @apply px-3 py-2 sm:px-4 sm:py-2 rounded-xl font-medium transition-all duration-200 hover:bg-white/20 hover:backdrop-blur-sm;
  }

  .nav-item-active {
    @apply bg-white/30 backdrop-blur-sm shadow-sm;
  }

  /* Mobile-First Grid Layouts */
  .grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8;
  }

  .grid-features {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8;
  }

  /* Responsive Typography */
  .text-responsive-h1 {
    @apply text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold;
  }

  .text-responsive-h2 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold;
  }

  .text-responsive-h3 {
    @apply text-xl sm:text-2xl md:text-3xl font-semibold;
  }

  .text-responsive-body {
    @apply text-sm sm:text-base lg:text-lg;
  }

  /* Loading Animation */
  .loading-pulse {
    @apply animate-pulse bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 bg-[length:200%_100%];
    animation: loading-shimmer 1.5s infinite;
  }

  @keyframes loading-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Map Marker Animations */
  @keyframes bounce-in {
    0% {
      opacity: 0;
      transform: scale(0.3) translate(-50%, -50%);
    }
    50% {
      opacity: 1;
      transform: scale(1.05) translate(-50%, -50%);
    }
    70% {
      transform: scale(0.9) translate(-50%, -50%);
    }
    100% {
      opacity: 1;
      transform: scale(1) translate(-50%, -50%);
    }
  }

  .bounce-in {
    animation: bounce-in 0.6s ease-out forwards;
  }

  /* Status Indicators */
  .status-online {
    @apply bg-green-400 animate-pulse;
  }

  .status-offline {
    @apply bg-gray-400;
  }

  /* Modern Shadows with Mobile Optimization */
  .shadow-soft {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .shadow-medium {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  .shadow-large {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  /* Mobile-Specific Utilities */
  .mobile-only {
    @apply block sm:hidden;
  }

  .desktop-only {
    @apply hidden sm:block;
  }

  .tablet-up {
    @apply hidden md:block;
  }

  .mobile-down {
    @apply block md:hidden;
  }

  /* Responsive Spacing */
  .section-padding {
    @apply py-8 sm:py-12 lg:py-16 xl:py-20;
  }

  .section-margin {
    @apply my-8 sm:my-12 lg:my-16 xl:my-20;
  }

  /* Mobile-First Form Layouts */
  .form-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6;
  }

  .form-stack {
    @apply flex flex-col space-y-4 sm:space-y-6;
  }

  /* Responsive Image Containers */
  .image-container {
    @apply relative w-full h-48 sm:h-64 md:h-80 lg:h-96;
  }

  .image-responsive {
    @apply w-full h-full object-cover rounded-lg;
  }

  /* Mobile Navigation Improvements */
  .mobile-nav-overlay {
    @apply fixed top-16 sm:top-20 left-0 right-0 bottom-0 bg-black/50 backdrop-blur-sm z-40;
  }

  .mobile-nav-panel {
    @apply fixed right-0 top-16 sm:top-20 h-[calc(100vh-4rem)] sm:h-[calc(100vh-5rem)] w-80 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out z-50;
  }

  .mobile-nav-panel.closed {
    @apply translate-x-full;
  }

  .mobile-nav-panel.open {
    @apply translate-x-0;
  }

  /* Touch-Friendly Interactive Elements */
  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  /* Mobile-Optimized Modals */
  .modal-mobile {
    @apply fixed inset-0 z-50 flex items-end sm:items-center justify-center;
  }

  .modal-content-mobile {
    @apply w-full max-h-[90vh] overflow-y-auto bg-white rounded-t-2xl sm:rounded-2xl shadow-2xl;
  }

  /* Responsive Tables */
  .table-responsive {
    @apply w-full overflow-x-auto;
  }

  .table-mobile {
    @apply min-w-full divide-y divide-gray-200;
  }

  /* Mobile-First Card Grids */
  .card-grid-mobile {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6;
  }

  /* Responsive Hero Sections */
  .hero-mobile {
    @apply text-center px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20;
  }

  .hero-title-mobile {
    @apply text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight;
  }

  .hero-subtitle-mobile {
    @apply text-lg sm:text-xl md:text-2xl text-gray-600 mt-4 sm:mt-6 max-w-2xl mx-auto;
  }

  /* Mobile-First Button Groups */
  .button-group-mobile {
    @apply flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center;
  }

  .button-group-stack {
    @apply flex flex-col space-y-3 sm:space-y-4;
  }

  /* Mobile Touch Optimizations */
  .touch-manipulation {
    touch-action: manipulation;
  }

  .safe-area-pb {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-pt {
    padding-top: env(safe-area-inset-top);
  }

  /* Mobile Scrollbar Styling */
  .scrollbar-mobile {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
  }

  .scrollbar-mobile::-webkit-scrollbar {
    width: 4px;
  }

  .scrollbar-mobile::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-mobile::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 2px;
  }

  /* Mobile Text Selection */
  .select-none-mobile {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Responsive Sidebar */
  .sidebar-mobile {
    @apply fixed inset-y-0 left-0 z-50 w-64 max-w-[85vw] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out;
  }

  .sidebar-mobile.closed {
    @apply -translate-x-full;
  }

  .sidebar-mobile.open {
    @apply translate-x-0;
  }

  /* Mobile-First Search Bar */
  .search-mobile {
    @apply w-full px-4 py-3 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }

  /* Responsive List Items */
  .list-item-mobile {
    @apply flex items-center justify-between p-4 sm:p-6 border-b border-gray-100 last:border-b-0;
  }

  /* Mobile-Optimized Dropdowns */
  .dropdown-mobile {
    @apply absolute right-0 mt-2 w-64 sm:w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50;
  }

  /* Responsive Footer */
  .footer-mobile {
    @apply bg-gray-900 text-white py-8 sm:py-12;
  }

  .footer-grid-mobile {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8;
  }
}
